<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>SZDataManager Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 858)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">Skillz </a></h1>
				<a id="developerHome" href="../index.html">de.juliaroggatz</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">SZDataManager Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/currentEntry">&nbsp;&nbsp;&nbsp;&nbsp;currentEntry</option>
	
	<option value="//api/name/currentEntryIsNew">&nbsp;&nbsp;&nbsp;&nbsp;currentEntryIsNew</option>
	
	<option value="//api/name/currentEntryType">&nbsp;&nbsp;&nbsp;&nbsp;currentEntryType</option>
	
	<option value="//api/name/searchLocationBase">&nbsp;&nbsp;&nbsp;&nbsp;searchLocationBase</option>
	
	<option value="//api/name/viewControllerStack">&nbsp;&nbsp;&nbsp;&nbsp;viewControllerStack</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/addEntryToUserCache:">&nbsp;&nbsp;&nbsp;&nbsp;+ addEntryToUserCache:</option>
	
	<option value="//api/name/addMessageToUserCache:completionBlock:">&nbsp;&nbsp;&nbsp;&nbsp;+ addMessageToUserCache:completionBlock:</option>
	
	<option value="//api/name/addOpenDealToUserCache:">&nbsp;&nbsp;&nbsp;&nbsp;+ addOpenDealToUserCache:</option>
	
	<option value="//api/name/categoryHasSubcategory:">&nbsp;&nbsp;&nbsp;&nbsp;+ categoryHasSubcategory:</option>
	
	<option value="//api/name/getGroupedMessages">&nbsp;&nbsp;&nbsp;&nbsp;+ getGroupedMessages</option>
	
	<option value="//api/name/getMessageThreadForUserId:">&nbsp;&nbsp;&nbsp;&nbsp;+ getMessageThreadForUserId:</option>
	
	<option value="//api/name/lastEnteredAddress">&nbsp;&nbsp;&nbsp;&nbsp;+ lastEnteredAddress</option>
	
	<option value="//api/name/removeEntryFromCache:">&nbsp;&nbsp;&nbsp;&nbsp;+ removeEntryFromCache:</option>
	
	<option value="//api/name/saveLastEnderedAddress:">&nbsp;&nbsp;&nbsp;&nbsp;+ saveLastEnderedAddress:</option>
	
	<option value="//api/name/sharedInstance">&nbsp;&nbsp;&nbsp;&nbsp;+ sharedInstance</option>
	
	<option value="//api/name/sortedCategories">&nbsp;&nbsp;&nbsp;&nbsp;+ sortedCategories</option>
	
	<option value="//api/name/sortedSubcategoriesForCategory:">&nbsp;&nbsp;&nbsp;&nbsp;+ sortedSubcategoriesForCategory:</option>
	
	<option value="//api/name/updateMessageCacheWithCompletionBlock:">&nbsp;&nbsp;&nbsp;&nbsp;+ updateMessageCacheWithCompletionBlock:</option>
	
	<option value="//api/name/updateOpenDealsCacheWithCompletionBlock:">&nbsp;&nbsp;&nbsp;&nbsp;+ updateOpenDealsCacheWithCompletionBlock:</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/saveCurrentEntry:">&nbsp;&nbsp;&nbsp;&nbsp;- saveCurrentEntry:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Temporarily storing values to be available across different classes">Temporarily storing values to be available across different classes</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Managing an additional view controller stack">Managing an additional view controller stack</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Shared instance">Shared instance</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Accessing categories">Accessing categories</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Managing the cache for entry objects">Managing the cache for entry objects</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Managing the cache for messages">Managing the cache for messages</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Managing the cache for open deals">Managing the cache for open deals</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Retrieving messages">Retrieving messages</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Storing address inputs">Storing address inputs</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentEntry">currentEntry</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentEntryIsNew">currentEntryIsNew</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/currentEntryType">currentEntryType</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/searchLocationBase">searchLocationBase</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/viewControllerStack">viewControllerStack</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addEntryToUserCache:">addEntryToUserCache:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addMessageToUserCache:completionBlock:">addMessageToUserCache:completionBlock:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addOpenDealToUserCache:">addOpenDealToUserCache:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/categoryHasSubcategory:">categoryHasSubcategory:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getGroupedMessages">getGroupedMessages</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getMessageThreadForUserId:">getMessageThreadForUserId:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/lastEnteredAddress">lastEnteredAddress</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/removeEntryFromCache:">removeEntryFromCache:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/saveLastEnderedAddress:">saveLastEnderedAddress:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sharedInstance">sharedInstance</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sortedCategories">sortedCategories</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sortedSubcategoriesForCategory:">sortedSubcategoriesForCategory:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/updateMessageCacheWithCompletionBlock:">updateMessageCacheWithCompletionBlock:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/updateOpenDealsCacheWithCompletionBlock:">updateOpenDealsCacheWithCompletionBlock:</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/saveCurrentEntry:">saveCurrentEntry:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="SZDataManager Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">SZDataManager Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">SZDataManager.h<br />SZDataManager.m</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The SZDataManager takes care of the local data cache. It is responsible for caching data that should be available in offline mode (such as own offers and requests, open deals and messages. Besides caching data that was created on the device, the SZDataManager communicates with the application&rsquo;s back end to check for new messages or accepted deal proposals, download the new data and cache it on the device as well.<br/>
The SZDataManager is designed as a singleton. Its shared instance can be accessed by calling <code>[SZDataManager sharedInstance]</code>. However, most of it&rsquo;s methods are static, so the actual instance of the SZDataManager is usually only needed to store and access properties, with the exception of the the &lt;saveCurrentEntry:completionBlock> method, which is an instance method.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Temporarily storing values to be available across different classes" name="task_Temporarily storing values to be available across different classes"></a>
						<h3 class="subsubtitle task-title">Temporarily storing values to be available across different classes</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/currentEntry">&nbsp;&nbsp;currentEntry</a></code>
		<span class="tooltip"><p>This property is used to temporarily save an entry object before it is sent to the server for persistant storage. It is used either during creation of a new entry or while an existing entry is edited by the user. Once an entry object is successfully stored in the data base, this property is reset to <code>nil</code>.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/currentEntryType">&nbsp;&nbsp;currentEntryType</a></code>
		<span class="tooltip"><p>This property holds a reference to the current entry type that the GUI is representing, for example during browsing or searching for entries. Since offers and requests generally have the same structure, they are only distinguished by their entryType property to avoid code redundancy. The reference to the current entry type is needed internally to generate correct queries or labels while using only one class to perform both offer and request-related tasks. For instance, the <a href="../Classes/SZSubcategoriesVC.html">SZSubcategoriesVC</a> will set the title of its first cell to &ldquo;All CategoryXY Requests&rdquo; or &ldquo;All CategoryXY Offers&rdquo; depending on the value of this property.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/currentEntryIsNew">&nbsp;&nbsp;currentEntryIsNew</a></code>
		<span class="tooltip"><p>This property indicates whether the entry that is currently edited has been newly created or if it is an already existing entry that is updated by the user. This will result in different layouting behavior of the view controllers responsible for editing/creating entries. If the current entry is not new, the input elements will already be filled according to the entry&rsquo;s specified data</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Managing an additional view controller stack" name="task_Managing an additional view controller stack"></a>
						<h3 class="subsubtitle task-title">Managing an additional view controller stack</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/viewControllerStack">&nbsp;&nbsp;viewControllerStack</a></code>
		<span class="tooltip"><p>A helper array serving as an additional view controller stack used to enable going back and forth between the different steps of creating/editing an entry without losing the view controllers that have been popped from the regular view controller stack when tapping the &ldquo;Back&rdquo; button (which is the default behavior). It uses the push and pop methods provided by the <a href="../Categories/NSMutableArray+Stack.html">NSMutableArray(Stack)</a> class category, which was created especially for this purpose.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/searchLocationBase">&nbsp;&nbsp;searchLocationBase</a></code>
		<span class="tooltip"><p>This property stores location that the user set for a search (either a specific address or the current position)<br/>
It is saved in a dictionary using the following keys:</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Shared instance" name="task_Shared instance"></a>
						<h3 class="subsubtitle task-title">Shared instance</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/sharedInstance">+&nbsp;sharedInstance</a></code>
		<span class="tooltip"><p>Singleton instance of the SZDataManager</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Accessing categories" name="task_Accessing categories"></a>
						<h3 class="subsubtitle task-title">Accessing categories</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/sortedCategories">+&nbsp;sortedCategories</a></code>
		<span class="tooltip"><p>Static function to obtain an array containing string representation of all supported categories which downloaded and saved onto the device upon first application launch.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/sortedSubcategoriesForCategory:">+&nbsp;sortedSubcategoriesForCategory:</a></code>
		<span class="tooltip"><p>Static function to obtain an array containing string representation of all supported subcategories for the specified category. All categories and subcategories have been downloaded and saved onto the device upon first application launch.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/categoryHasSubcategory:">+&nbsp;categoryHasSubcategory:</a></code>
		<span class="tooltip"><p>Checks whether or not a certain category has a subcategory</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Managing the cache for entry objects" name="task_Managing the cache for entry objects"></a>
						<h3 class="subsubtitle task-title">Managing the cache for entry objects</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/saveCurrentEntry:">&ndash;&nbsp;saveCurrentEntry:</a></code>
		<span class="tooltip"><p>Posts the currently edited edited entry to the server and dispatches a completion block as soon as the saving process successfully completed</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/addEntryToUserCache:">+&nbsp;addEntryToUserCache:</a></code>
		<span class="tooltip"><p>Adds an entry to the local cache file. If the entry already exists in the cache, it will be overwritten with the new version.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/removeEntryFromCache:">+&nbsp;removeEntryFromCache:</a></code>
		<span class="tooltip"><p>Removes an entry from the local cache file.</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Managing the cache for messages" name="task_Managing the cache for messages"></a>
						<h3 class="subsubtitle task-title">Managing the cache for messages</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/addMessageToUserCache:completionBlock:">+&nbsp;addMessageToUserCache:completionBlock:</a></code>
		<span class="tooltip"><p>Stores a message object in the local cache and dispatches a completion block when finished</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/updateMessageCacheWithCompletionBlock:">+&nbsp;updateMessageCacheWithCompletionBlock:</a></code>
		<span class="tooltip"><p>Runs a query on the database to check for new messages and updates the &ldquo;messages&rdquo; cache accordingly, dispatches a completion block after the operation successfully completed (either when the is already cache is up to date or when the update completed).</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Managing the cache for open deals" name="task_Managing the cache for open deals"></a>
						<h3 class="subsubtitle task-title">Managing the cache for open deals</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/addOpenDealToUserCache:">+&nbsp;addOpenDealToUserCache:</a></code>
		<span class="tooltip"><p>Stores a deal object in the local cache and dispatches a completion block when finished</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/updateOpenDealsCacheWithCompletionBlock:">+&nbsp;updateOpenDealsCacheWithCompletionBlock:</a></code>
		<span class="tooltip"><p>Runs a query on the database to check for newly accepted deals and updates the &ldquo;open deals&rdquo; cache accordingly, dispatches a completion block after the operation successfully completed (either when the is already cache is up to date or when the update completed).</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Retrieving messages" name="task_Retrieving messages"></a>
						<h3 class="subsubtitle task-title">Retrieving messages</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/getGroupedMessages">+&nbsp;getGroupedMessages</a></code>
		<span class="tooltip"><p>Retrieves all messages from the cache and arranges them into a nested array, grouped by conversation partner and sorted by date (newest messages first)</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getMessageThreadForUserId:">+&nbsp;getMessageThreadForUserId:</a></code>
		<span class="tooltip"><p>Retrieves an array of messages representing a message thread with a certain user (specified by user ID).</p></span>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Storing address inputs" name="task_Storing address inputs"></a>
						<h3 class="subsubtitle task-title">Storing address inputs</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/saveLastEnderedAddress:">+&nbsp;saveLastEnderedAddress:</a></code>
		<span class="tooltip"><p>Stores the last address that the user entered into an address form to be re-used in other address forms</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/lastEnteredAddress">+&nbsp;lastEnteredAddress</a></code>
		<span class="tooltip"><p>Retrieves the last address that the user entered into an address form to be re-used in other address forms</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/currentEntry" title="currentEntry"></a>
	<h3 class="subsubtitle method-title">currentEntry</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This property is used to temporarily save an entry object before it is sent to the server for persistant storage. It is used either during creation of a new entry or while an existing entry is edited by the user. Once an entry object is successfully stored in the data base, this property is reset to <code>nil</code>.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) SZEntryObject *currentEntry</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/currentEntryIsNew" title="currentEntryIsNew"></a>
	<h3 class="subsubtitle method-title">currentEntryIsNew</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This property indicates whether the entry that is currently edited has been newly created or if it is an already existing entry that is updated by the user. This will result in different layouting behavior of the view controllers responsible for editing/creating entries. If the current entry is not new, the input elements will already be filled according to the entry&rsquo;s specified data</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL currentEntryIsNew</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/currentEntryType" title="currentEntryType"></a>
	<h3 class="subsubtitle method-title">currentEntryType</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This property holds a reference to the current entry type that the GUI is representing, for example during browsing or searching for entries. Since offers and requests generally have the same structure, they are only distinguished by their entryType property to avoid code redundancy. The reference to the current entry type is needed internally to generate correct queries or labels while using only one class to perform both offer and request-related tasks. For instance, the <a href="../Classes/SZSubcategoriesVC.html">SZSubcategoriesVC</a> will set the title of its first cell to &ldquo;All CategoryXY Requests&rdquo; or &ldquo;All CategoryXY Offers&rdquo; depending on the value of this property.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) SZEntryType currentEntryType</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/searchLocationBase" title="searchLocationBase"></a>
	<h3 class="subsubtitle method-title">searchLocationBase</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This property stores location that the user set for a search (either a specific address or the current position)<br/>
It is saved in a dictionary using the following keys:</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) PFGeoPoint *searchLocationBase</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<ul>
<li><code>geoPoint</code> The geolocation of the search base. A <code>PFObject</code></li>
<li><code>textInput</code> The location that the user specified (an address, city, zip code or &ldquo;Current Location&rdquo;). An NSString object.</li>
<li><code>radius</code> The maximum search radius. An NSNumber object</li>
</ul>


<p>Will be used to display distances of search results and as the center of the map showing the search results</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/viewControllerStack" title="viewControllerStack"></a>
	<h3 class="subsubtitle method-title">viewControllerStack</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A helper array serving as an additional view controller stack used to enable going back and forth between the different steps of creating/editing an entry without losing the view controllers that have been popped from the regular view controller stack when tapping the &ldquo;Back&rdquo; button (which is the default behavior). It uses the push and pop methods provided by the <a href="../Categories/NSMutableArray+Stack.html">NSMutableArray(Stack)</a> class category, which was created especially for this purpose.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (nonatomic, strong) NSMutableArray *viewControllerStack</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/addEntryToUserCache:" title="addEntryToUserCache:"></a>
	<h3 class="subsubtitle method-title">addEntryToUserCache:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Adds an entry to the local cache file. If the entry already exists in the cache, it will be overwritten with the new version.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)addEntryToUserCache:(SZEntryObject *)<em>entry</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>entry</em></dt>
			<dd><p>the <a href="../Classes/SZEntryObject.html">SZEntryObject</a> which to store in the local cache</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/addMessageToUserCache:completionBlock:" title="addMessageToUserCache:completionBlock:"></a>
	<h3 class="subsubtitle method-title">addMessageToUserCache:completionBlock:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Stores a message object in the local cache and dispatches a completion block when finished</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)addMessageToUserCache:(PFObject *)<em>message</em> completionBlock:(void ( ^ ) ( BOOL finished ))<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>message</em></dt>
			<dd><p>A <code>PFObject</code> representing the message which to store</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>The block of code which to execute after the operation successfully completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/addOpenDealToUserCache:" title="addOpenDealToUserCache:"></a>
	<h3 class="subsubtitle method-title">addOpenDealToUserCache:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Stores a deal object in the local cache and dispatches a completion block when finished</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)addOpenDealToUserCache:(PFObject *)<em>openDeal</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>openDeal</em></dt>
			<dd><p>A <code>PFObject</code> representing the deal which to store</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/categoryHasSubcategory:" title="categoryHasSubcategory:"></a>
	<h3 class="subsubtitle method-title">categoryHasSubcategory:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Checks whether or not a certain category has a subcategory</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (BOOL)categoryHasSubcategory:(NSString *)<em>category</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>category</em></dt>
			<dd><p>The category for which to check for subcategory existance</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p><code>YES</code> if the category has subcategories, <code>NO</code> if it doesn&rsquo;t</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getGroupedMessages" title="getGroupedMessages"></a>
	<h3 class="subsubtitle method-title">getGroupedMessages</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrieves all messages from the cache and arranges them into a nested array, grouped by conversation partner and sorted by date (newest messages first)</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (NSMutableArray *)getGroupedMessages</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>A nested array, grouped by conversation partner and sorted by date. For each message thread, the newest message is the first object. The message threads are sorted by date as well with the message thread containing the most recent message as the first object.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getMessageThreadForUserId:" title="getMessageThreadForUserId:"></a>
	<h3 class="subsubtitle method-title">getMessageThreadForUserId:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrieves an array of messages representing a message thread with a certain user (specified by user ID).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (NSArray *)getMessageThreadForUserId:(NSString *)<em>userId</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>userId</em></dt>
			<dd><p>the ID of the user for which to retrieve the message thread</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>An array of dictionaries, each of which represents a distinct message. The array is sorted by date with the most recent message being the first object.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/lastEnteredAddress" title="lastEnteredAddress"></a>
	<h3 class="subsubtitle method-title">lastEnteredAddress</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Retrieves the last address that the user entered into an address form to be re-used in other address forms</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (NSDictionary *)lastEnteredAddress</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>A dictionary containing the last address that the user entered into an address form</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/removeEntryFromCache:" title="removeEntryFromCache:"></a>
	<h3 class="subsubtitle method-title">removeEntryFromCache:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Removes an entry from the local cache file.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)removeEntryFromCache:(SZEntryObject *)<em>entry</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>entry</em></dt>
			<dd><p>the <a href="../Classes/SZEntryObject.html">SZEntryObject</a> which to remove from the local cache</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/saveLastEnderedAddress:" title="saveLastEnderedAddress:"></a>
	<h3 class="subsubtitle method-title">saveLastEnderedAddress:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Stores the last address that the user entered into an address form to be re-used in other address forms</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)saveLastEnderedAddress:(NSDictionary *)<em>address</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>address</em></dt>
			<dd><p>A dictionary containing the last address that the user entered into an address form</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sharedInstance" title="sharedInstance"></a>
	<h3 class="subsubtitle method-title">sharedInstance</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Singleton instance of the SZDataManager</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (SZDataManager *)sharedInstance</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The shared instance of the SZDataManager</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sortedCategories" title="sortedCategories"></a>
	<h3 class="subsubtitle method-title">sortedCategories</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Static function to obtain an array containing string representation of all supported categories which downloaded and saved onto the device upon first application launch.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (NSArray *)sortedCategories</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>An array containing string representations of all supported categories</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/sortedSubcategoriesForCategory:" title="sortedSubcategoriesForCategory:"></a>
	<h3 class="subsubtitle method-title">sortedSubcategoriesForCategory:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Static function to obtain an array containing string representation of all supported subcategories for the specified category. All categories and subcategories have been downloaded and saved onto the device upon first application launch.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (NSArray *)sortedSubcategoriesForCategory:(NSString *)<em>category</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>category</em></dt>
			<dd><p>The category for which to look up the subcategories</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>An array containing string representations of the respective subcategories or <code>nil</code> if no subcategories are specified.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/updateMessageCacheWithCompletionBlock:" title="updateMessageCacheWithCompletionBlock:"></a>
	<h3 class="subsubtitle method-title">updateMessageCacheWithCompletionBlock:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Runs a query on the database to check for new messages and updates the &ldquo;messages&rdquo; cache accordingly, dispatches a completion block after the operation successfully completed (either when the is already cache is up to date or when the update completed).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)updateMessageCacheWithCompletionBlock:(void ( ^ ) ( NSArray *newMessages ))<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>The block of code which to execute after the operation successfully completed. Returns an array containing the newly downloaded messages (or an empty array if there are no new messages) to be used by whatever class was calling the update.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/updateOpenDealsCacheWithCompletionBlock:" title="updateOpenDealsCacheWithCompletionBlock:"></a>
	<h3 class="subsubtitle method-title">updateOpenDealsCacheWithCompletionBlock:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Runs a query on the database to check for newly accepted deals and updates the &ldquo;open deals&rdquo; cache accordingly, dispatches a completion block after the operation successfully completed (either when the is already cache is up to date or when the update completed).</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)updateOpenDealsCacheWithCompletionBlock:(void ( ^ ) ( BOOL finished ))<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>The block of code which to execute after the operation successfully completed</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/saveCurrentEntry:" title="saveCurrentEntry:"></a>
	<h3 class="subsubtitle method-title">saveCurrentEntry:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Posts the currently edited edited entry to the server and dispatches a completion block as soon as the saving process successfully completed</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)saveCurrentEntry:(void ( ^ ) ( BOOL finished ))<em>completionBlock</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>completionBlock</em></dt>
			<dd><p>The block of code that is dispatched after successfully saving the current entry</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">SZDataManager.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 de.juliaroggatz. All rights reserved. (Last updated: 2013-05-05)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 858)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>